"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[892],{892:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,o,u,a=t(885),i=t(791),c=t(562),s=t.n(c),l=t(168),f=t(444),m=f.ZP.form(r||(r=(0,l.Z)(["\ndisplay:flex;\ngap: ","px;\npadding-left: ","px;\n\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]})),h=f.ZP.input(o||(o=(0,l.Z)(["\n\nfont-size: ",";\n\n"])),(function(n){return n.theme.fontSizes.l})),p=f.ZP.button(u||(u=(0,l.Z)(["\nborder-radius: ",";\nfont-size: ",";\n\n\n\n"])),(function(n){return n.theme.borders.normals}),(function(n){return n.theme.fontSizes.l})),d=t(184);function x(n){var e=n.onChange,t=n.value,r=(0,i.useState)(""),o=(0,a.Z)(r,2),u=o[0],c=o[1];return(0,d.jsxs)(m,{onSubmit:function(n){if(n.preventDefault(),""===u.trim())return s().Notify.failure("Please input some name of Film to find");e(u)},children:[(0,d.jsx)(h,{autoComplete:"off",autoFocus:!0,name:"search",defaultValue:t,type:"text",placeholder:"input name of film to serch",onChange:function(n){c(n.currentTarget.value.toLowerCase())}}),(0,d.jsx)(p,{type:"submit",children:"Serch"})]})}var y=t(731),v=t(711);var j,b=t(682),g=t(739),w=(0,f.ZP)(y.OL)(j||(j=(0,l.Z)(["\n  display: flex;\n\n  margin-bottom: ","px;\n\n  padding: ","px;\n  border-radius: 4px;\n\n  color: ",";\n\n  &.active {\n    background-color: ",";\n    color: ",";\n  }\n\n  :hover:not(.active),\n  :focus-visible:not(.active) {\n    color: ",";\n  }\n\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.white}),(function(n){return n.theme.colors.primary})),Z=function(n){var e=n.arrayFindFilms,t=(0,g.TH)();return(0,d.jsx)(b.x,{as:"ul",p:3,children:e.map((function(n){var e=n.title,r=n.id;return(0,d.jsx)("li",{children:(0,d.jsx)(w,{to:"".concat(r),state:{from:t},children:e})},r)}))})},S=t(793),k=function(){var n=(0,i.useState)([]),e=(0,a.Z)(n,2),t=e[0],r=e[1],o=(0,y.lr)(),u=(0,a.Z)(o,2),c=u[0],l=u[1],f=c.get("query"),m=(0,i.useState)(null),h=(0,a.Z)(m,2),p=h[0],j=h[1],g=(0,i.useState)(!1),w=(0,a.Z)(g,2),k=w[0],C=w[1];(0,i.useEffect)((function(){var n;""!==f&&null!==f&&(C(!0),(n=f,fetch("".concat(v.Jx,"search/movie?api_key=").concat(v.Fn,"&query=").concat(n)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Sorry, but we can't find any films with name ".concat(n,". Try more")))}))).then((function(n){var e=n.results;if(0===e.length)return r([]),C(!1),j(Error),Promise.reject(new Error("Sorry, but we can't film with name ".concat(f,". Try again.")));C(!1),r(e),j(null)})).catch((function(n){j(n)})))}),[f]);return(0,d.jsxs)("main",{children:[(0,d.jsx)(x,{onChange:function(n){if(n===f)return s().Notify.failure("Enter new query for serch, result of this query you already can see ");l(""!==n?{query:n}:{})},value:f}),k&&(0,d.jsx)(S.a,{}),p&&(0,d.jsxs)("div",{children:[p.message," "]}),t&&(0,d.jsx)(b.x,{as:"ul",p:4,children:(0,d.jsx)(Z,{arrayFindFilms:t})})]})}}}]);
//# sourceMappingURL=892.18b0efeb.chunk.js.map