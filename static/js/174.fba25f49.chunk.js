"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[174],{174:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r,a,u,o=t(885),i=t(791),c=t(562),s=t.n(c),f=t(168),l=t(444),h=l.ZP.form(r||(r=(0,f.Z)(["\ndisplay:flex;\ngap: ","px;\npadding-left: ","px;\n\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.space[4]})),m=l.ZP.input(a||(a=(0,f.Z)(["\n\nfont-size: ",";\n\n"])),(function(e){return e.theme.fontSizes.l})),d=l.ZP.button(u||(u=(0,f.Z)(["\nborder-radius: ",";\nfont-size: ",";\n\n\n\n"])),(function(e){return e.theme.borders.normals}),(function(e){return e.theme.fontSizes.l})),p=t(184);function y(e){var n=e.onChange,t=e.value,r=(0,i.useState)(""),a=(0,o.Z)(r,2),u=a[0],c=a[1];return(0,p.jsxs)(h,{onSubmit:function(e){if(e.preventDefault(),""===u.trim())return s().Notify.failure("Please input some name of Film to find");n(u)},children:[(0,p.jsx)(m,{autoComplete:"off",autoFocus:!0,name:"search",defaultValue:t,type:"text",placeholder:"input name of film to serch",onChange:function(e){c(e.currentTarget.value.toLowerCase())}}),(0,p.jsx)(d,{type:"submit",children:"Serch"})]})}var x=t(731),j=t(711);var v=t(682),w=t(739),Z=function(e){var n=e.arrayFindFilms,t=(0,w.TH)();return(0,p.jsx)(v.x,{as:"ul",p:3,children:n.map((function(e){var n=e.title,r=e.id;return(0,p.jsx)("li",{children:(0,p.jsx)(x.OL,{to:"".concat(r),state:{from:t},children:n})},r)}))})},g=t(793),S=function(){var e=(0,i.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=(0,x.lr)(),u=(0,o.Z)(a,2),c=u[0],f=u[1],l=c.get("query"),h=(0,i.useState)(null),m=(0,o.Z)(h,2),d=m[0],w=m[1],S=(0,i.useState)(!1),b=(0,o.Z)(S,2),k=b[0],C=b[1];(0,i.useEffect)((function(){var e;""!==l&&null!==l&&(C(!0),(e=l,fetch("".concat(j.Jx,"search/movie?api_key=").concat(j.Fn,"&query=").concat(e)).then((function(n){return n.ok?n.json():Promise.reject(new Error("Sorry, but we can't find any films with name ".concat(e,". Try more")))}))).then((function(e){var n=e.results;if(0===n.length)return r([]),C(!1),w(Error),Promise.reject(new Error("Sorry, but we can't film with name ".concat(l,". Try again.")));C(!1),r(n),w(null)})).catch((function(e){w(e)})))}),[l]);return(0,p.jsxs)("main",{children:[(0,p.jsx)(y,{onChange:function(e){if(e===l)return s().Notify.failure("Enter new query for serch, result of this query you already can see ");f(""!==e?{query:e}:{})},value:l}),k&&(0,p.jsx)(g.a,{}),d&&(0,p.jsxs)("div",{children:[d.message," "]}),t&&(0,p.jsx)(v.x,{as:"ul",p:4,children:(0,p.jsx)(Z,{arrayFindFilms:t})})]})}}}]);
//# sourceMappingURL=174.fba25f49.chunk.js.map